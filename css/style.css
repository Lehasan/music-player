@import url("https://fonts.googleapis.com/css2?family=Tilt+Neon&display=swap");

@import "variables.css";
@import "reset.css";
@import "loader.css";

.wrapper {
	overflow: hidden;
	min-height: 100vh;
	display: grid;
	place-items: center;
	padding: 15px;
}

.music-player__box,
.music-player__img img {
	border-radius: var(--music-box-radius);
}

.music-player {
	position: relative;
	max-width: 300px;
	width: 100%;
}

.music-player::before,
.music-player::after {
	content: "";
	position: absolute;
	border-radius: 50%;
	z-index: -1;
}

.music-player::before {
	top: -50px;
	right: -100px;
	width: 200px;
	height: 200px;
	background: linear-gradient(to right, var(--circle-top-gradient));
	animation: anim-rotate 2.5s ease-in infinite alternate-reverse;
}

.music-player::after {
	bottom: -50px;
	left: -125px;
	width: 250px;
	height: 250px;
	background: linear-gradient(to right, var(--circle-bottom-gradient));
	animation: anim-rotate 2.5s ease-in-out infinite alternate;
}

.music-player__box {
	text-align: center;
	padding: var(--music-box-padding);
	backdrop-filter: blur(var(--music-box-blur));
	backface-visibility: hidden;
	background-color: var(--background-item);
	transition: transform 0.8s;
}

.music-player__img {
	position: relative;
	display: grid;
	place-items: center;
	aspect-ratio: 1;
	margin-bottom: 30px;
}

.music-player__img img {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	object-fit: cover;
	opacity: 0;
}

.music-player__img img._loaded {
	opacity: 1;
	transition: opacity var(--transition-duration);
}

.music-player__title {
	font-size: var(--music-box-title-size);
	font-weight: 600;
	margin-bottom: 10px;
}

.music-player__author {
	font-size: var(--music-box-author-size);
	text-wrap: balance;
	margin-bottom: 30px;
}

.music-player__info {
	display: flex;
	justify-content: space-between;
	gap: 15px;
	margin-bottom: 10px;
}

.music-player__progress,
.music-player__progress span {
	border-radius: var(--music-box-progress-radius);
}

.music-player__progress {
	width: 100%;
	height: 5px;
	background-color: var(--music-box-progress-color);
	margin-bottom: 30px;
	cursor: pointer;
}

.music-player__progress span {
	position: relative;
	display: block;
	height: 100%;
	background-color: var(--music-box-progress-line-color);
}

.music-player__progress span::after {
	content: "";
	position: absolute;
	top: -2.5px;
	right: -5px;
	width: 10px;
	height: 10px;
	border-radius: 50%;
	background-color: var(--music-box-progress-line-dot-color);
}

.music-player__controls {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 13px;
}

.music-player__button-loop,
.music-player__switch-button,
.music-player__button-random,
.music-player__play {
	display: grid;
	place-items: center;
}

.music-player__button-loop,
.music-player__switch-button,
.music-player__button-random {
	width: var(--music-box-controls-size);
	height: var(--music-box-controls-size);
}

.music-player__button-loop svg path,
.music-player__button-random svg path {
	transition: all var(--transition-duration);
}

.music-player__switch-button {
	background: url("../img/skip-icon.svg") center / cover no-repeat;
	transition: all var(--transition-duration);
}

.music-player__switch-button_prev {
	rotate: 180deg;
}

.music-player__play {
	width: var(--music-box-play-button-size);
	height: var(--music-box-play-button-size);
	border-radius: var(--music-box-play-button-radius);
	background-color: var(--background-item);
}

.music-player__play::before {
	content: "";
	width: 18px;
	height: 18px;
	background: url("../img/play-icon.svg") 2px 0 no-repeat;
}

.music-player__play._active::before {
	width: 23px;
	height: 23px;
	background: url("../img/pause-icon.svg") center / cover no-repeat;
}

.music-player__button-loop._active svg path {
	stroke: var(--accent-color);
}

.music-player__button-random._active svg path {
	fill: var(--accent-color);
}

.music-menu {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	transform: perspective(1000px) rotateY(180deg);
}

.music-player__audio {
	display: none;
}

.music-player__switch-button._disabled {
	opacity: 0.3;
	pointer-events: none;
}

.music-player._active .music-player__box {
	transform: perspective(1000px) rotateY(180deg);
}

.music-player._active .music-menu {
	transform: perspective(1000px) rotateY(360deg);
}

@keyframes anim-rotate {
	100% {
		transform: rotate(360deg) scale(1.1);
	}
}

@media (any-hover: hover) {
	.music-player__progress span::after,
	.music-player__button-loop,
	.music-player__button-random,
	.music-player__play {
		transition: transform var(--transition-duration);
	}

	.music-player__progress span {
		transition: background-color var(--transition-duration);
	}

	.music-player__progress:hover span {
		background-color: var(--music-box-progress-line-color-hover);
	}

	.music-player__progress:hover span::after {
		transform: scale(1.3);
	}

	.music-player__button-loop:hover,
	.music-player__button-random:hover,
	.music-player__switch-button:hover,
	.music-player__play:hover {
		transform: scale(1.15);
	}
}
